
Selects machine b1s



disk
 standrd

netwoking

Install node on vm

curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash

source ~/.bashrc

NODE:14


mongo

https://www.mongodb.com/docs/manual/tutorial/install-mongodb-on-ubuntu/




Nginix

https://www.nginx.com/resources/wiki/start/topics/tutorials/install/




Pm2
https://pm2.keymetrics.io/


https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-open-source/











upstream backend{
       server localhost:3000;

}

upstream frontend{
       server localhost:5000;
}

server {
       listen 80 default_server;
       listen [::]:80 default_server;

       # SSL configuration
       #
       # listen 443 ssl default_server;
       # listen [::]:443 ssl default_server;
       #
       # Note: You should disable gzip for SSL traffic.
       # See: https://bugs.debian.org/773332
       #
       # Read up on ssl_ciphers to ensure a secure configuration.
       # See: https://bugs.debian.org/765782
       #
       # Self signed certs generated by the ssl-cert package


       location / {
               # First attempt to serve request as file, then
               # as directory, then fall back to displaying a 404.
               proxy_redirect off;
                       proxy_set_header X-Real-IP $remote_addr;
                       proxy_set_header X-forwarded-For $proxy_add_x_forwarded_for;
                       proxy_set_header Host $http_host;

                       proxy_pass http://backend;
       }

       location /posts {
                       proxy_redirect off;
                       proxy_set_header X-Real-IP $remote_addr;
                       proxy_set_header X-forwarded-For $proxy_add_x_forwarded_for;
                       proxy_set_header Host $http_host;

                       proxy_pass http://frontend;
               }
       }





